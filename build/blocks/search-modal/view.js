(()=>{function e(e){const t=document.getElementById(e);return t?t.choices?t.choices.getValue(!0):Array.from(t.selectedOptions).map((e=>e.value)):[]}function t(e){const t=document.getElementById(e);t&&t.choices&&(t.choices.removeActiveItems(),t.multiple||(t.choices.setChoiceByValue(""),t.choices.showPlaceholder(!0)))}document.addEventListener("DOMContentLoaded",(function(){const c=document.getElementById("hrdc-open-search-modal"),d=document.getElementById("hrdc-close-search-modal"),o=document.getElementById("hrdc-modal-overlay"),n=document.getElementById("hrdc-apply-search"),s=document.getElementById("hrdc-reset-search");document.querySelectorAll("#hrdc-modal-overlay select").forEach((e=>{const t=new Choices(e,{removeItemButton:e.multiple,searchEnabled:!1,shouldSort:!1,itemSelectText:"",classNames:{containerOuter:"hrdc-choices"}});e.choices=t,e.style.display="none"})),c?.addEventListener("click",(()=>{document.body.classList.add("modal-open"),o.style.display="block"})),d?.addEventListener("click",(()=>{document.body.classList.remove("modal-open"),o.style.display="none"})),n?.addEventListener("click",(()=>{const t={city:e("hrdc-city"),reservedFor:e("hrdc-demographic"),unitTypes:e("hrdc-unit-types"),category:e("hrdc-housing-types"),felonies:document.getElementById("hrdc-felonies")?.value||"",creditCheck:document.getElementById("hrdc-credit")?.value||"",pets:document.getElementById("hrdc-pets")?.value||"no",socialSecurity:document.getElementById("hrdc-social")?.value||""};document.dispatchEvent(new CustomEvent("hrdcApplyFilters",{detail:t})),o.style.display="none",document.body.classList.remove("modal-open")})),s?.addEventListener("click",(()=>{["hrdc-city","hrdc-demographic","hrdc-unit-types","hrdc-housing-types"].forEach(t),["hrdc-felonies","hrdc-credit","hrdc-pets","hrdc-social"].forEach((e=>{const t=document.getElementById(e);t&&(t.value="")})),document.dispatchEvent(new CustomEvent("hrdcApplyFilters",{detail:{city:[],reservedFor:[],unitTypes:[],category:[],felonies:"",creditCheck:"",pets:"",socialSecurity:""}})),o.style.display="none",document.body.classList.remove("modal-open")}))}))})();