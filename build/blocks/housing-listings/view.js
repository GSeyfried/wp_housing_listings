(()=>{function t(){const t=window.hrdcBlockAttr||{},e=document.querySelector(".hrdc-housing-listings");if(!e)return;const n=Number(t.cardColumns)||1,i=Number(t.cardWidth)||900;e.style.display="grid",e.style.gridTemplateColumns=`repeat(${n}, ${i}px)`,e.style.gap="20px"}function e(e){const n=function(){const t=window.hrdcBlockAttr||{};return{title:`font-size:${t.cardTitleFontSize}px;color:${t.cardTitleColor};text-align:${t.cardTitleTextAlign};font-weight:${t.cardTitleFontWeight};font-style:${t.cardTitleFontStyle};padding-bottom:${t.cardTitlePadding}px;`,info:`font-family:${t.cardFontFamily};text-align:${t.cardTextAlign};font-weight:${t.cardValueFontWeight};font-style:${t.cardValueFontStyle};`,label:`font-weight:${t.cardLabelFontWeight};font-style:${t.cardLabelFontStyle};`}}(),i=(window.hrdcBlockAttr||{}).isSpanish?{address:"Dirección",manager:"Gerente",phone:"Teléfono",website:"Sitio web",category:"Categoría",desc:"Descripción",noneWeb:"No sitio web",nonePhone:"No número de teléfono"}:{address:"Address",manager:"Manager",phone:"Phone",website:"Website",category:"Category",desc:"Description",noneWeb:"No website",nonePhone:"No phone number"},o=[];e.forEach((t=>{const e=t.meta||{},s=e._website&&e._website.startsWith("http"),r=t.title.replace(/^\s*Private:\s*/i,"");o.push(`\n\t\t<div class="listing-box">\n\t\t\t<div class="listing-row" style="display:flex;gap:16px;align-items:flex-start;flex-wrap:wrap;">\n\t\t\t\t\x3c!-- left column : title + meta --\x3e\n\t\t\t\t<div class="listing-left" style="flex:1 1 320px; min-width:260px;">\n\t\t\t\t\t<div class="listing-title" style="${n.title}">${r}</div>\n\n\t\t\t\t\t<div class="listing-info" style="${n.info}">\n\t\t\t\t\t\t<em style="${n.label}">${i.address}:</em>\n\t\t\t\t\t\t${e._address||"N/A"}${e._city?", "+e._city:""}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="listing-info" style="${n.info}">\n\t\t\t\t\t\t<em style="${n.label}">${i.manager}:</em>\n\t\t\t\t\t\t${e._property_manager||"N/A"}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="listing-info" style="${n.info}">\n\t\t\t\t\t\t<em style="${n.label}">${i.phone}:</em>\n\t\t\t\t\t\t${e._phone||i.nonePhone}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="listing-info" style="${n.info}">\n\t\t\t\t\t\t<em style="${n.label}">${i.website}:</em>\n\t\t\t\t\t\t${s?`<a href="${e._website}" target="_blank">${e._website}</a>`:i.noneWeb}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="listing-info" style="${n.info}">\n\t\t\t\t\t\t<em style="${n.label}">${i.category}:</em>\n\t\t\t\t\t\t${function(t){const e=window.hrdcBlockAttr?.isSpanish,n=(t||"").toLowerCase().trim();let i;return["low-income tax-credit eligible","low income tax credit eligible","income-restricted affordable rentals"].includes(n)?i="affordable":"income-restricted subsidized rentals"===n?i="subsidized":"property management and market rate apartments"===n&&(i="market"),i?{affordable:{en:"Low-Income Tax-Credit Eligible",es:"Viviendas ASEQUIBLES con restricción de ingresos"},subsidized:{en:"Income-Restricted SUBSIDIZED Rentals",es:"Viviendas SUBSIDIADAS con restricción de ingresos"},market:{en:"Property Management and Market Rate Apartments",es:"Gestión de propiedades y apartamentos de precio de mercado"}}[i][e?"es":"en"]:t}(e._category||"")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t\x3c!-- right column : description --\x3e\n\t\t\t\t<div class="listing-right" style="flex:1 1 360px;min-width:260px;">\n\t\t\t\t\t<div class="listing-info" style="${n.info}">\n\t\t\t\t\t\t<em style="${n.label}">${i.desc}:</em><br>\n\t\t\t\t\t\t<span style="${n.info}">${t.content}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`)})),document.getElementById("hl-results").innerHTML=e.length?o.join(""):"<p>No listings match your filters.</p>",t(),document.getElementById("hl-results-count").textContent=`Displaying ${e.length} listings`}window.hrdcBlockAttr||(window.hrdcBlockAttr={}),window.hrdcBlockAttr,setTimeout(t,0),window.addEventListener("resize",t),e(window.hlData||[]),document.addEventListener("hrdcApplyFilters",(t=>{e(function(t,e){function n(t){return t?"yes"===t.toString().toLowerCase():null}return t.filter((t=>{const i=t.meta||{},o=i._city?i._city.toLowerCase():"",s=i._category?i._category.toLowerCase():"",r=i._reserved_for?i._reserved_for.toLowerCase():"",l=(i._application_fee&&i._application_fee.toLowerCase(),i._felonies_considered?i._felonies_considered.toLowerCase():""),a=i._credit_check_not_required?i._credit_check_not_required.toLowerCase():"",c=i._unit_types?i._unit_types.toLowerCase():"",d=i._pets_allowed?i._pets_allowed.toLowerCase():"",u=i._social_security_required?i._social_security_required.toLowerCase():"",f=!e.city||""===e.city.toLowerCase()||o.includes(e.city.toLowerCase()),p=!e.reservedFor||""===e.reservedFor.toLowerCase()||function(t,e){function n(t){return t?t.toLowerCase().replace(/person with|people with/gi,"").replace(/and\/or/gi,",").replace(/\bdisab(?:led|ility|ilities|ling)?\b/gi,"disabilities").replace(/\bcondition\b/gi,"").split(",").map((t=>t.trim())).filter((t=>t)):[]}function i(t){const e=t.match(/\d+/);return e?parseInt(e[0],10):null}const o=n(t),s=n(e);return o.includes("none of the above")?s.includes("no"):!!s.includes("no")||0===o.length||o.some((t=>{if(t.includes("senior")){const e=s.find((t=>t.includes("senior")));if(e){const n=i(t),o=i(e);return null!==n&&null!==o&&o<=n}}return!1}))||o.some((t=>s.includes(t)))}(e.reservedFor,r),m=!e.felonies||""===e.felonies.toLowerCase()||!0!==n(e.felonies)||"yes"===l,y=!e.creditCheck||""===e.creditCheck.toLowerCase()||!1!==n(e.creditCheck)||"no"===a,g=!e.unitTypes||""===e.unitTypes.toLowerCase()||function(t,e){function n(t){return t?t.toLowerCase().replace(/bedroom(s)?/gi,"").split(",").map((t=>{const e=t.trim().match(/\d+|studio/);return e?e[0]:null})).filter((t=>t)):[]}const i=n(t||""),o=n(e);return!t||"any"===t.toLowerCase()||i.some((t=>o.includes(t)))}(e.unitTypes,c),w=!e.pets||""===e.pets.toLowerCase()||!0!==n(e.pets)||"no"!==d,h=!e.socialSecurity||""===e.socialSecurity.toLowerCase()||!1!==n(e.socialSecurity)||"no"===u,b=!e.category||""===e.category.toLowerCase()||function(t,e){if(!t||"any"===t.toLowerCase())return!0;function n(t){return t.split(",").map((t=>function(t){let e=t.toLowerCase();return/affordable|low\s*income|lihtc|tax\s*credit/.test(e)?"affordable":/subsidized/.test(e)?"subsidized":/market\s*rate/.test(e)?"market_rate":e.trim()}(t.trim()))).filter(Boolean)}const i=n(t),o=n(e||"");return i.some((t=>o.includes(t)))}(e.category,s);return f&&p&&m&&y&&g&&w&&h&&b}))}(hlData,t.detail))}))})();