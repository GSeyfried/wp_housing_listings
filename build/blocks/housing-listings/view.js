(()=>{document.addEventListener("hrdcApplyFilters",(function(e){!function(e){const o=n(),s=document.getElementById("hl-results");if(!s)return;let r="";e.length>0?e.forEach((e=>{const t=e.meta||{},n=t._website&&t._website.startsWith("http");var s;r+=`<div class="listing-box">\n                        <div class="listing-row">\n                            <div class="listing-left">\n                                <div class="listing-title" style="${o.title}">${e.title}</div>\n                                <div class="listing-info" style="${o.info}">\n                                     <em style="${o.label}">${i.address}:</em>\n\t\t\t\t\t\t\t\t\t${t._address||"N/A"}${t._city?", "+t._city:""}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${i.manager}:</em>\n\t\t\t\t\t\t\t\t\t${t._property_manager||"N/A"}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${i.phone}:</em>\n\t\t\t\t\t\t\t\t\t${t._phone?t._phone:i.nonePhone}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${i.website}:</em>\n\t\t\t\t\t\t\t\t\t${n?`<a href="${t._website}" target="_blank">${t._website}</a>`:i.noneWeb}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${i.category}:</em>\n\t\t\t\t\t\t\t\t\t${s=t._category||"",window.hrdcBlockAttr?.isSpanish&&{"Income-Restricted SUBSIDIZED Rentals":"Viviendas SUBSIDIADAS con restricción de ingresos","Income-Restricted AFFORDABLE Rentals":"Viviendas ASEQUIBLES con restricción de ingresos","Property Management and Market Rate Apartments":"Administración de propiedades y apartamentos de precio de mercado"}[s]||s}\n                                </div>\n                            </div>\n                            <div class="listing-right">\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${i.desc}:</em><br>\n\t\t\t\t\t\t\t\t\t<span style="${o.info}">${e.content}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`})):r="<p>No listings match your filters.</p>",s.innerHTML=r,t(),document.getElementById("hl-results").innerHTML=r,document.getElementById("hl-results-count").innerText=`Displaying ${e.length} listings`}(function(e,t){function n(e){return e?"yes"===e.toString().toLowerCase():null}return e.filter((e=>{const i=e.meta||{},o=i._city?i._city.toLowerCase():"",s=i._category?i._category.toLowerCase():"",r=i._reserved_for?i._reserved_for.toLowerCase():"",l=(i._application_fee&&i._application_fee.toLowerCase(),i._felonies_considered?i._felonies_considered.toLowerCase():""),a=i._credit_check_not_required?i._credit_check_not_required.toLowerCase():"",c=i._unit_types?i._unit_types.toLowerCase():"",d=i._pets_allowed?i._pets_allowed.toLowerCase():"",u=i._social_security_required?i._social_security_required.toLowerCase():"",y=!t.city||""===t.city.toLowerCase()||o.includes(t.city.toLowerCase()),f=!t.reservedFor||""===t.reservedFor.toLowerCase()||function(e,t){function n(e){return e?e.toLowerCase().replace(/person with|people with/gi,"").replace(/and\/or/gi,",").replace(/\bdisab(?:led|ility|ilities|ling)?\b/gi,"disabilities").replace(/\bcondition\b/gi,"").split(",").map((e=>e.trim())).filter((e=>e)):[]}function i(e){const t=e.match(/\d+/);return t?parseInt(t[0],10):null}const o=n(e),s=n(t);return o.includes("none of the above")?s.includes("no"):!!s.includes("no")||0===o.length||o.some((e=>{if(e.includes("senior")){const t=s.find((e=>e.includes("senior")));if(t){const n=i(e),o=i(t);return null!==n&&null!==o&&o<=n}}return!1}))||o.some((e=>s.includes(e)))}(t.reservedFor,r),g=!t.felonies||""===t.felonies.toLowerCase()||!0!==n(t.felonies)||"yes"===l,p=!t.creditCheck||""===t.creditCheck.toLowerCase()||!1!==n(t.creditCheck)||"no"===a,m=!t.unitTypes||""===t.unitTypes.toLowerCase()||function(e,t){function n(e){return e?e.toLowerCase().replace(/bedroom(s)?/gi,"").split(",").map((e=>{const t=e.trim().match(/\d+|studio/);return t?t[0]:null})).filter((e=>e)):[]}const i=n(e||""),o=n(t);return!e||"any"===e.toLowerCase()||i.some((e=>o.includes(e)))}(t.unitTypes,c),w=!t.pets||""===t.pets.toLowerCase()||!0!==n(t.pets)||"no"!==d,_=!t.socialSecurity||""===t.socialSecurity.toLowerCase()||!1!==n(t.socialSecurity)||"no"===u,h=!t.category||""===t.category.toLowerCase()||function(e,t){if(!e||"any"===e.toLowerCase())return!0;function n(e){return e.split(",").map((e=>function(e){let t=e.toLowerCase();return/affordable|low\s*income|lihtc|tax\s*credit/.test(t)?"affordable":/subsidized/.test(t)?"subsidized":/market\s*rate/.test(t)?"market_rate":t.trim()}(e.trim()))).filter(Boolean)}const i=n(e),o=n(t||"");return i.some((e=>o.includes(e)))}(t.category,s);return y&&f&&g&&p&&m&&w&&_&&h}))}(hlData,e.detail))})),window.hrdcBlockAttr||(window.hrdcBlockAttr={});const e=window.hrdcBlockAttr||{};function t(){const t=document.querySelector(".hrdc-housing-listings");if(!t)return;const n=Number(e.cardColumns)||2,i=Number(e.cardWidth)||500;t.style.display="grid",t.style.gridTemplateColumns=`repeat(${n}, ${i}px)`,t.style.gap="20px"}function n(){const e=window.hrdcBlockAttr||{};return{title:`font-size:${e.cardTitleFontSize}px;color:${e.cardTitleColor};text-align:${e.cardTitleTextAlign};font-weight:${e.cardTitleFontWeight};font-style:${e.cardTitleFontStyle};padding-bottom:${e.cardTitlePadding}px;`,info:`font-family:${e.cardFontFamily};text-align:${e.cardTextAlign};font-weight:${e.cardValueFontWeight};font-style:${e.cardValueFontStyle};`,label:`font-weight:${e.cardLabelFontWeight};font-style:${e.cardLabelFontStyle};`}}setTimeout(t,0),window.addEventListener("resize",t),n();const i=e.isSpanish?{address:"Dirección",manager:"Gerente",phone:"Teléfono",website:"Sitio web",category:"Categoría",desc:"Descripción",noneWeb:"No sitio web",nonePhone:"No número de teléfono"}:{address:"Address",manager:"Manager",phone:"Phone",website:"Website",category:"Category",desc:"Description",noneWeb:"No website",nonePhone:"No phone number"}})();