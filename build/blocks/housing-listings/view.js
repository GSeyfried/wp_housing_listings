(()=>{document.addEventListener("hrdcApplyFilters",(function(n){!function(n){const i=document.getElementById("hl-results");if(!i)return;const o=t(),s=e.isSpanish?{address:"Dirección",manager:"Gerente",phone:"Teléfono",website:"Sitio web",category:"Categoría",desc:"Descripción",noneWeb:"No sitio web",nonePhone:"No número de teléfono"}:{address:"Address",manager:"Manager",phone:"Phone",website:"Website",category:"Category",desc:"Description",noneWeb:"No website",nonePhone:"No phone number"};let r="";n.length>0?n.forEach((e=>{const t=e.meta||{};r+=`<div class="listing-box">\n                        <div class="listing-row">\n                            <div class="listing-left">\n                                <div class="listing-title" style="${o.title}">${e.title}</div>\n                                <div class="listing-info" style="${o.info}">\n                                     <em style="${o.label}">${s.address}:</em>\n\t\t\t\t\t\t\t\t\t${t._address||"N/A"}${t._city?", "+t._city:""}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${s.manager}:</em>\n\t\t\t\t\t\t\t\t\t${t._property_manager||"N/A"}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${s.phone}:</em>\n\t\t\t\t\t\t\t\t\t${t._phone?t._phone:s.nonePhone}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${s.website}:</em>\n\t\t\t\t\t\t\t\t\t${t._website?`<a href="${t._website}" target="_blank">${t._website}</a>`:s.noneWeb}\n                                </div>\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${s.category}:</em>\n\t\t\t\t\t\t\t\t\t${t._category||"N/A"}\n                                </div>\n                            </div>\n                            <div class="listing-right">\n                                <div class="listing-info" style="${o.info}">\n                                    <em style="${o.label}">${s.desc}:</em><br>\n\t\t\t\t\t\t\t\t\t<span style="${o.info}">${e.content}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>`})):r="<p>No listings match your filters.</p>",i.innerHTML=r,document.getElementById("hl-results").innerHTML=r,document.getElementById("hl-results-count").innerText=`Displaying ${n.length} listings`}(function(e,t){function n(e){return e?"yes"===e.toString().toLowerCase():null}return e.filter((e=>{const i=e.meta||{},o=i._city?i._city.toLowerCase():"",s=i._category?i._category.toLowerCase():"",r=i._reserved_for?i._reserved_for.toLowerCase():"",l=(i._application_fee&&i._application_fee.toLowerCase(),i._felonies_considered?i._felonies_considered.toLowerCase():""),a=i._credit_check_not_required?i._credit_check_not_required.toLowerCase():"",c=i._unit_types?i._unit_types.toLowerCase():"",d=i._pets_allowed?i._pets_allowed.toLowerCase():"",u=i._social_security_required?i._social_security_required.toLowerCase():"",f=!t.city||""===t.city.toLowerCase()||o.includes(t.city.toLowerCase()),y=!t.reservedFor||""===t.reservedFor.toLowerCase()||function(e,t){function n(e){return e?e.toLowerCase().replace(/person with|people with/gi,"").replace(/and\/or/gi,",").replace(/\bdisab(?:led|ility|ilities|ling)?\b/gi,"disabilities").replace(/\bcondition\b/gi,"").split(",").map((e=>e.trim())).filter((e=>e)):[]}function i(e){const t=e.match(/\d+/);return t?parseInt(t[0],10):null}const o=n(e),s=n(t);return o.includes("none of the above")?s.includes("no"):!!s.includes("no")||0===o.length||o.some((e=>{if(e.includes("senior")){const t=s.find((e=>e.includes("senior")));if(t){const n=i(e),o=i(t);return null!==n&&null!==o&&o<=n}}return!1}))||o.some((e=>s.includes(e)))}(t.reservedFor,r),g=!t.felonies||""===t.felonies.toLowerCase()||!0!==n(t.felonies)||"yes"===l,_=!t.creditCheck||""===t.creditCheck.toLowerCase()||!1!==n(t.creditCheck)||"no"===a,p=!t.unitTypes||""===t.unitTypes.toLowerCase()||function(e,t){function n(e){return e?e.toLowerCase().replace(/bedroom(s)?/gi,"").split(",").map((e=>{const t=e.trim().match(/\d+|studio/);return t?t[0]:null})).filter((e=>e)):[]}const i=n(e||""),o=n(t);return!e||"any"===e.toLowerCase()||i.some((e=>o.includes(e)))}(t.unitTypes,c),m=!t.pets||""===t.pets.toLowerCase()||!0!==n(t.pets)||"no"!==d,w=!t.socialSecurity||""===t.socialSecurity.toLowerCase()||!1!==n(t.socialSecurity)||"no"===u,$=!t.category||""===t.category.toLowerCase()||function(e,t){if(!e||"any"===e.toLowerCase())return!0;function n(e){return e.split(",").map((e=>function(e){let t=e.toLowerCase();return/affordable|low\s*income|lihtc|tax\s*credit/.test(t)?"affordable":/subsidized/.test(t)?"subsidized":/market\s*rate/.test(t)?"market_rate":t.trim()}(e.trim()))).filter(Boolean)}const i=n(e),o=n(t||"");return i.some((e=>o.includes(e)))}(t.category,s);return f&&y&&g&&_&&p&&m&&w&&$}))}(hlData,n.detail))}));const e=window.hrdcBlockAttr||{};function t(){return{title:`font-size:${e.cardTitleFontSize}px;color:${e.cardTitleColor};text-align:${e.cardTitleTextAlign};font-weight:${e.cardTitleFontWeight};font-style:${e.cardTitleFontStyle};padding-bottom:${e.cardTitlePadding}px;`,info:`font-family:${e.cardFontFamily};text-align:${e.cardTextAlign};font-weight:${e.cardValueFontWeight};font-style:${e.cardValueFontStyle};`,label:`font-weight:${e.cardLabelFontWeight};font-style:${e.cardLabelFontStyle};`}}t()})();