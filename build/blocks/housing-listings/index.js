(()=>{"use strict";var e,t={577:()=>{const e=window.wp.blocks,t=window.wp.blockEditor,o=window.wp.components,l=window.wp.data,n=window.wp.element,i=window.wp.i18n,r=window.ReactJSXRuntime;const s=JSON.parse('{"UU":"hrdc-tools/housing-listings"}');(0,e.registerBlockType)(s.UU,{edit:function({attributes:e,setAttributes:s}){const a=(0,l.useSelect)((e=>e("core").getEntityRecords("postType","housing_listing",{per_page:-1,context:"edit"})||[]),[]),c=a.length?a:window.hlData||[],[d,u]=(0,n.useState)(c),[h,g]=(0,n.useState)(c);(0,n.useEffect)((()=>{const e=a.length?a:window.hlData||[];u(e),g(e)}),[a]),(0,n.useEffect)((()=>{const e=e=>{const t=function(e,t){function o(e){return e?"yes"===e.toString().toLowerCase():null}return e.filter((e=>{const l=e.meta||{},n=l._city?l._city.toLowerCase():"",i=l._category?l._category.toLowerCase():"",r=l._reserved_for?l._reserved_for.toLowerCase():"",s=l._application_fee?l._application_fee.toLowerCase():"",a=l._felonies_considered?l._felonies_considered.toLowerCase():"",c=l._credit_check_not_required?l._credit_check_not_required.toLowerCase():"",d=l._unit_types?l._unit_types.toLowerCase():"",u=l._pets_allowed?l._pets_allowed.toLowerCase():"",h=l._social_security_required?l._social_security_required.toLowerCase():"",g=!t.city||"any"===t.city.toLowerCase()||n.includes(t.city.toLowerCase()),_=!t.reservedFor||function(e,t){function o(e){return e?e.toLowerCase().replace(/person with|people with/gi,"").replace(/and\/or/gi,",").replace(/\bdisab(?:led|ility|ilities|ling)?\b/gi,"disabilities").replace(/\bcondition\b/gi,"").split(",").map((e=>e.trim())).filter((e=>e)):[]}const l=o(e),n=o(t);return l.includes("none of the above")?n.includes("no"):!!n.includes("no")||0===l.length||l.some((e=>n.includes(e)))}(t.reservedFor,r),m="no"===s,p=!t.felonies||!1!==o(t.felonies)||"yes"===a,y=!t.creditCheck||!1!==o(t.creditCheck)||"yes"===c,f=!t.unitTypes||function(e,t){function o(e){return e?e.toLowerCase().replace(/bedroom(s)?/gi,"").split(",").map((e=>{const t=e.trim().match(/\d+|studio/);return t?t[0]:null})).filter((e=>e)):[]}const l=o(e||"any"),n=o(t);return!e||"any"===e.toLowerCase()||l.some((e=>n.includes(e)))}(t.unitTypes,d),x=!t.petsAllowed||!0!==o(t.petsAllowed)||"no"!==u,C=!t.socialSecurity||!0!==o(t.socialSecurity)||"yes"===h,b=!t.category||function(e,t){if(!e||"any"===e.toLowerCase())return!0;function o(e){return e.split(",").map((e=>function(e){let t=e.toLowerCase();return/affordable|low\s*income|lihtc|tax\s*credit/.test(t)?"affordable":/subsidized/.test(t)?"subsidized":/market\s*rate/.test(t)?"market_rate":t.trim()}(e.trim()))).filter(Boolean)}const l=o(e),n=o(t||"");return l.some((e=>n.includes(e)))}(t.category,i);return g&&_&&m&&p&&y&&f&&x&&C&&b}))}(d,e.detail);g(t)};return document.addEventListener("hrdcApplyFilters",e),()=>document.removeEventListener("hrdcApplyFilters",e)}),[d]);const{cardInnerPadding:_,cardOuterPadding:m,cardBorder:p,cardWidth:y,cardRadius:f,cardColumns:x,cardBackground:C,cardTitleFontSize:b,cardTitleFontWeight:v,cardTitleFontStyle:w,cardTitleTextAlign:j,cardTitleColor:T,cardTitlePadding:F,cardFontFamily:S,cardTextAlign:A,cardValueFontWeight:L,cardValueFontStyle:k,cardLabelFontWeight:W,cardLabelFontStyle:B,align:N}=e,O=(0,t.useBlockProps)(),P=(e,t,l,n,i)=>(0,r.jsx)(o.TextControl,{type:"number",label:e,value:t,onChange:e=>i(Number(e)),help:`Min: ${l}, Max: ${n}`});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.InspectorControls,{children:[(0,r.jsxs)(o.PanelBody,{title:(0,i.__)("Card Layout","hrdc-custom-tools"),initialOpen:!0,children:[P((0,i.__)("Inner Padding (px)","hrdc-custom-tools"),_,5,50,(e=>s({cardInnerPadding:e}))),P((0,i.__)("Outer Padding (px)","hrdc-custom-tools"),m,5,50,(e=>s({cardOuterPadding:e}))),(0,r.jsx)(o.TextControl,{label:(0,i.__)("Card Border","hrdc-custom-tools"),value:p,onChange:e=>s({cardBorder:e}),help:(0,i.__)("Example: 1px solid #ccc","hrdc-custom-tools")}),P((0,i.__)("Card Width (px)","hrdc-custom-tools"),y,200,1e3,(e=>s({cardWidth:e}))),P((0,i.__)("Card Radius (px)","hrdc-custom-tools"),f,1,50,(e=>s({cardRadius:e}))),P((0,i.__)("Columns","hrdc-custom-tools"),x,1,4,(e=>s({cardColumns:e}))),(0,r.jsx)(t.PanelColorSettings,{title:(0,i.__)("Card Background Color","hrdc-custom-tools"),initialOpen:!1,colorSettings:[{value:C,onChange:e=>s({cardBackground:e}),label:(0,i.__)("Background Color","hrdc-custom-tools")}]})]}),(0,r.jsxs)(o.PanelBody,{title:(0,i.__)("Card Title Layout","hrdc-custom-tools"),initialOpen:!1,children:[P((0,i.__)("Font Size (px)","hrdc-custom-tools"),b,16,40,(e=>s({cardTitleFontSize:e}))),(0,r.jsx)(o.ToggleControl,{label:(0,i.__)("Bold","hrdc-custom-tools"),checked:"bold"===v,onChange:e=>s({cardTitleFontWeight:e?"bold":"normal"})}),(0,r.jsx)(o.ToggleControl,{label:(0,i.__)("Italic","hrdc-custom-tools"),checked:"italic"===w,onChange:e=>s({cardTitleFontStyle:e?"italic":"normal"})}),(0,r.jsx)(o.SelectControl,{label:(0,i.__)("Text Align","hrdc-custom-tools"),value:j,options:[{label:(0,i.__)("Left","hrdc-custom-tools"),value:"left"},{label:(0,i.__)("Center","hrdc-custom-tools"),value:"center"},{label:(0,i.__)("Right","hrdc-custom-tools"),value:"right"}],onChange:e=>s({cardTitleTextAlign:e})}),(0,r.jsx)(t.PanelColorSettings,{title:(0,i.__)("Title Color","hrdc-custom-tools"),initialOpen:!1,colorSettings:[{value:T,onChange:e=>s({cardTitleColor:e}),label:(0,i.__)("Title Color","hrdc-custom-tools")}]}),P((0,i.__)("Title Padding (px)","hrdc-custom-tools"),F,0,30,(e=>s({cardTitlePadding:e})))]}),(0,r.jsxs)(o.PanelBody,{title:(0,i.__)("Card Text Layout","hrdc-custom-tools"),initialOpen:!1,children:[(0,r.jsx)(o.TextControl,{label:(0,i.__)("Font Family","hrdc-custom-tools"),value:S,onChange:e=>s({cardFontFamily:e}),help:(0,i.__)("e.g., Arial, sans-serif","hrdc-custom-tools")}),(0,r.jsx)(o.SelectControl,{label:(0,i.__)("Text Align","hrdc-custom-tools"),value:A,options:[{label:(0,i.__)("Left","hrdc-custom-tools"),value:"left"},{label:(0,i.__)("Center","hrdc-custom-tools"),value:"center"},{label:(0,i.__)("Right","hrdc-custom-tools"),value:"right"}],onChange:e=>s({cardTextAlign:e})}),(0,r.jsx)(o.ToggleControl,{label:(0,i.__)("Bold","hrdc-custom-tools"),checked:"bold"===L,onChange:e=>s({cardValueFontWeight:e?"bold":"normal"})}),(0,r.jsx)(o.ToggleControl,{label:(0,i.__)("Italic","hrdc-custom-tools"),checked:"italic"===k,onChange:e=>s({cardValueFontStyle:e?"italic":"normal"})}),(0,r.jsx)(o.ToggleControl,{label:(0,i.__)("Bold","hrdc-custom-tools"),checked:"bold"===W,onChange:e=>s({cardLabelFontWeight:e?"bold":"normal"})}),(0,r.jsx)(o.ToggleControl,{label:(0,i.__)("Italic","hrdc-custom-tools"),checked:"italic"===B,onChange:e=>s({cardLabelFontStyle:e?"italic":"normal"})})]}),(0,r.jsx)(o.PanelBody,{title:(0,i.__)("Block Alignment","hrdc-custom-tools"),initialOpen:!1,children:(0,r.jsx)(o.BaseControl,{label:(0,i.__)("Alignment","hrdc-custom-tools"),children:(0,r.jsx)(t.BlockAlignmentToolbar,{value:N,onChange:e=>s({align:e})})})})]}),(0,r.jsx)("div",{...O,children:(0,r.jsx)("div",{id:"hl-results",style:{display:"grid",gridTemplateColumns:`repeat(${x},1fr)`,gap:m+"px",margin:"0 auto"},children:h.length?h.map((e=>{const t=e.meta||{};return(0,r.jsx)("div",{className:"listing-box",style:{border:p,padding:_+"px",backgroundColor:C,borderRadius:f+"px"},children:(0,r.jsxs)("div",{className:"listing-row",children:[(0,r.jsxs)("div",{className:"listing-left",children:[(0,r.jsx)("div",{className:"listing-title",style:{fontSize:b+"px",color:T,textAlign:j,padding:F+"px",fontWeight:v,fontStyle:w,fontFamily:S},children:e.title.rendered}),(0,r.jsxs)("div",{className:"listing-info",children:[(0,r.jsx)("em",{style:{fontWeight:W,fontStyle:B,textAlign:A,fontFamily:S},children:(0,i.__)("Address: ","hrdc-custom-tools")}),(0,r.jsxs)("span",{style:{fontWeight:L,fontStyle:k,textAlign:A,fontFamily:S},children:[t._address||"N/A",", ",t._city||"N/A"]})]}),(0,r.jsxs)("div",{className:"listing-info",children:[(0,r.jsx)("em",{style:{fontWeight:W,fontStyle:B,textAlign:A,fontFamily:S},children:(0,i.__)("Manager: ","hrdc-custom-tools")}),(0,r.jsx)("span",{style:{fontWeight:L,fontStyle:k,textAlign:A,fontFamily:S},children:t._property_manager||"N/A"})]}),(0,r.jsxs)("div",{className:"listing-info",children:[(0,r.jsx)("em",{style:{fontWeight:W,fontStyle:B,textAlign:A,fontFamily:S},children:(0,i.__)("Phone: ","hrdc-custom-tools")}),(0,r.jsx)("span",{style:{fontWeight:L,fontStyle:k,textAlign:A,fontFamily:S},children:t._phone||"N/A"})]}),(0,r.jsxs)("div",{className:"listing-info",children:[(0,r.jsx)("em",{style:{fontWeight:W,fontStyle:B,textAlign:A,fontFamily:S},children:(0,i.__)("Website: ","hrdc-custom-tools")}),(0,r.jsx)("span",{style:{fontWeight:L,fontStyle:k,textAlign:A,fontFamily:S},children:t._website||"N/A"})]}),(0,r.jsxs)("div",{className:"listing-info",children:[(0,r.jsx)("em",{style:{fontWeight:W,fontStyle:B,textAlign:A,fontFamily:S},children:(0,i.__)("Category: ","hrdc-custom-tools")}),(0,r.jsx)("span",{style:{fontWeight:L,fontStyle:k,textAlign:A,fontFamily:S},children:t._category||"N/A"})]})]}),(0,r.jsx)("div",{className:"listing-right",children:(0,r.jsxs)("div",{className:"listing-info",children:[(0,r.jsx)("em",{style:{fontWeight:W,fontStyle:B,textAlign:A,fontFamily:S},children:(0,i.__)("Description: ","hrdc-custom-tools")}),(0,r.jsx)("div",{style:{fontWeight:L,fontStyle:k,textAlign:A,fontFamily:S},dangerouslySetInnerHTML:{__html:e.content.rendered}})]})})]})},e.id)})):(0,r.jsx)("p",{children:(0,i.__)("No listings found.","hrdc-custom-tools")})})})]})},save:()=>null})}},o={};function l(e){var n=o[e];if(void 0!==n)return n.exports;var i=o[e]={exports:{}};return t[e](i,i.exports,l),i.exports}l.m=t,e=[],l.O=(t,o,n,i)=>{if(!o){var r=1/0;for(d=0;d<e.length;d++){for(var[o,n,i]=e[d],s=!0,a=0;a<o.length;a++)(!1&i||r>=i)&&Object.keys(l.O).every((e=>l.O[e](o[a])))?o.splice(a--,1):(s=!1,i<r&&(r=i));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={592:0,904:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var n,i,[r,s,a]=o,c=0;if(r.some((t=>0!==e[t]))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(a)var d=a(l)}for(t&&t(o);c<r.length;c++)i=r[c],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(d)},o=globalThis.webpackChunkHRDC_Custom_Tools=globalThis.webpackChunkHRDC_Custom_Tools||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=l.O(void 0,[904],(()=>l(577)));n=l.O(n)})();